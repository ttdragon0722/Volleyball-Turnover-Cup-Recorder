<!DOCTYPE html>
<html lang="zh-Hant">
    <head>
        <meta charset="UTF-8">
        <title>æ’çƒå¤±èª¤é…’æ¯ç´€éŒ„</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="description" content="ç°¡å–®å¯¦ç”¨çš„æ’çƒå¤±èª¤çµ±è¨ˆå·¥å…·ï¼ä½¿ç”¨ Tailwind è£½ä½œï¼Œå¯å³æ™‚è¨˜éŒ„æ¯ä½çƒå“¡çš„å¤±èª¤æ¬¡æ•¸ï¼Œæ”¯æ´éšŠä¼åˆ†é¡èˆ‡ localStorage ä¿å­˜ã€‚" />
        <meta name="author" content="ttdragon" />
        <meta property="og:title" content="æ’çƒå¤±èª¤ç´€éŒ„å™¨ ğŸğŸ“Š" />
        <meta property="og:description" content="ç°¡å–®åˆå¯¦ç”¨çš„æ’çƒå¤±èª¤è¨˜éŒ„å°å·¥å…·ï¼Œæ”¯æ´éšŠä¼åˆ†é¡ã€å³æ™‚åŠ æ¸›ã€è³‡æ–™å„²å­˜ï¼åˆ†äº«çµ¦ä½ çš„éšŠå‹ä¸€èµ·ç”¨èµ·ä¾†ã€‚" />
        <meta property="og:image" content="./haaha.jpg" />
        <meta property="og:url" content="https://ttdragon0722.github.io/haha/" />
        <meta property="og:type" content="website" />
    </head>
    <body class="bg-gray-100 p-4">
        <div class="mb-6">
            <h1 class="text-2xl font-bold mb-2">æ’çƒå¤±èª¤é…’æ¯ç´€éŒ„å™¨</h1>
            <div class="flex gap-4 flex-col">
                <div class="w-full p-2 bg-blue-100 rounded">
                    <h2 class="font-semibold text-blue-600 mb-2">éšŠä¼1</h2>
                    <div id="team1" class="space-y-2"></div>
                </div>
                <div class="w-full p-2 bg-red-100 rounded">
                    <h2 class="font-semibold text-red-600 mb-2">éšŠä¼2</h2>
                    <div id="team2" class="space-y-2"></div>
                </div>
            </div>
        </div>

        <div class="mb-4 flex flex-col justify-center">
            <div class="w-full flex justify-center items-center">
                <input id="nameInput" class="border p-2 rounded w-32"
                    placeholder="åå­—">
                <button onclick="adjustCount(-1)"
                    class="bg-gray-300 px-3 py-1 mx-1 rounded">-</button>
                <span id="tempCount">0</span>
                <button onclick="adjustCount(1)"
                    class="bg-gray-300 px-3 py-1 mx-1 rounded">+</button>

            </div>
            <div class="flex justify-center">
                <button onclick="addToTeam(1)"
                    class="bg-blue-500 text-white px-3 py-1 rounded">éšŠä¼1</button>
                <button onclick="addToTeam(2)"
                    class="bg-red-500 text-white px-3 py-1 ml-2 rounded">éšŠä¼2</button>
            </div>
        </div>

        <script>
    let players = JSON.parse(localStorage.getItem('players')) || [];
    let tempCount = 0;

    function adjustCount(val) {
      tempCount += val;
      if (tempCount < 0) tempCount = 0;
      document.getElementById('tempCount').innerText = tempCount;
    }

    function renderTeams() {
      document.getElementById('team1').innerHTML = '';
      document.getElementById('team2').innerHTML = '';
      players.forEach(player => {
        const container = document.createElement('div');
        container.className = 'flex items-center gap-2';

        const removeBtn = document.createElement('button');
        removeBtn.innerText = 'âŒ';
        removeBtn.className = 'text-red-500';
        removeBtn.onclick = () => {
          players = players.filter(p => p.name !== player.name);
          localStorage.setItem('players', JSON.stringify(players));
          renderTeams();
        };

        const name = document.createElement('span');
        name.innerText = player.name;

        const minus = document.createElement('button');
        minus.innerText = '-';
        minus.className = 'bg-gray-200 px-2 rounded';
        minus.onclick = () => {
          if (player.count > 0) player.count--;
          localStorage.setItem('players', JSON.stringify(players));
          renderTeams();
        };

        const count = document.createElement('span');
        count.innerText = player.count;

        const plus = document.createElement('button');
        plus.innerText = '+';
        plus.className = 'bg-gray-200 px-2 rounded';
        plus.onclick = () => {
          player.count++;
          localStorage.setItem('players', JSON.stringify(players));
          renderTeams();
        };

        container.appendChild(removeBtn);
        container.appendChild(name);
        container.appendChild(minus);
        container.appendChild(count);
        container.appendChild(plus);

        const teamDiv = player.team === 1 ? document.getElementById('team1') : document.getElementById('team2');
        teamDiv.appendChild(container);
      });
    }

    function addToTeam(teamNum) {
      const name = document.getElementById('nameInput').value.trim();
      if (!name) return alert('è«‹è¼¸å…¥åå­—');
      if (players.length >= 18) return alert('å·²é” 18 äººä¸Šé™');

      const exists = players.find(p => p.name === name);
      if (exists) return alert('åå­—å·²å­˜åœ¨');

      players.push({ name, count: tempCount, team: teamNum });
      localStorage.setItem('players', JSON.stringify(players));

      document.getElementById('nameInput').value = '';
      tempCount = 0;
      document.getElementById('tempCount').innerText = '0';
      renderTeams();
    }

    renderTeams();
  </script>
    </body>
</html>
